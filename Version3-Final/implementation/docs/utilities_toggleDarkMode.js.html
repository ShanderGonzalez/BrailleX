<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utilities/toggleDarkMode.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utilities/toggleDarkMode.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// toggleDarkMode.js

/*SIN COOKIES PARA GUARDAR EL MODO OSCURO*/
// document.addEventListener('DOMContentLoaded', () => {
//     const toggleSwitch = document.getElementById('darkModeToggle');
//     toggleSwitch.addEventListener('change', function() {
//       document.body.classList.toggle('dark-mode', this.checked);
//       // Aquí puedes añadir o quitar la clase 'dark-mode' de otros elementos si es necesario
//     });
//   });
// toggleDarkMode.js

/**
 * @fileoverview Manejo del modo oscuro con almacenamiento de preferencia en cookies. 
 * Permite activar o desactivar el modo oscuro y recordar la elección del usuario mediante cookies.
 */

document.addEventListener('DOMContentLoaded', () => {
  const toggleSwitch = document.getElementById('darkModeToggle');

  /**
   * Establece una cookie en el navegador.
   * 
   * @param {string} name - El nombre de la cookie.
   * @param {string} value - El valor de la cookie.
   * @param {number} days - La duración de la cookie en días.
   */
  function setCookie(name, value, days) {
    let expires = "";
    if (days) {
      let date = new Date();
      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "") + expires + "; path=/";
  }

  /**
   * Obtiene el valor de una cookie específica.
   * 
   * @param {string} name - El nombre de la cookie a obtener.
   * @returns {string|null} - El valor de la cookie o null si no existe.
   */
  function getCookie(name) {
    let nameEQ = name + "=";
    let ca = document.cookie.split(';');
    for (let c of ca) {
      c = c.trim();
      if (c.startsWith(nameEQ)) {
        return c.substring(nameEQ.length);
      }
    }
    return null;
  }

  /**
   * Aplica el modo oscuro según el valor almacenado en la cookie 'darkMode'.
   * Si la cookie indica que el modo oscuro está habilitado, lo activa y ajusta el interruptor.
   */
  function applyDarkModeFromCookie() {
    const darkMode = getCookie('darkMode');
    if (darkMode === 'enabled') {
      document.body.classList.add('dark-mode');
      toggleSwitch.checked = true;
    }
  }

  // Llamar a la función al cargar para aplicar el modo oscuro si es necesario
  applyDarkModeFromCookie();

  /**
   * Evento para alternar el modo oscuro cuando el usuario cambia el estado del interruptor.
   * Guarda la preferencia del usuario en una cookie que dura 7 días.
   */
  toggleSwitch.addEventListener('change', function () {
    document.body.classList.toggle('dark-mode', this.checked);
    if (this.checked) {
      setCookie('darkMode', 'enabled', 7); // Habilitar modo oscuro y guardar en cookies
    } else {
      setCookie('darkMode', 'disabled', 7); // Deshabilitar modo oscuro y guardar en cookies
    }
  });
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-BrailleDictionary.html">BrailleDictionary</a></li><li><a href="module-Traductor.html">Traductor</a></li><li><a href="module-Validator.html">Validator</a></li></ul><h3>Classes</h3><ul><li><a href="module-Traductor-Traductor.html">Traductor</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ajustarSidebar">ajustarSidebar</a></li><li><a href="global.html#cambiarTextoResponsive">cambiarTextoResponsive</a></li><li><a href="global.html#closeMenu">closeMenu</a></li><li><a href="global.html#dividirTextoEnLineas">dividirTextoEnLineas</a></li><li><a href="global.html#elementos">elementos</a></li><li><a href="global.html#leerTexto">leerTexto</a></li><li><a href="global.html#limpiar">limpiar</a></li><li><a href="global.html#mostrarAlerta">mostrarAlerta</a></li><li><a href="global.html#mostrarAlertaTemporal">mostrarAlertaTemporal</a></li><li><a href="global.html#respuesta">respuesta</a></li><li><a href="global.html#toggleMenu">toggleMenu</a></li><li><a href="global.html#zoomIn">zoomIn</a></li><li><a href="global.html#zoomIn1">zoomIn1</a></li><li><a href="global.html#zoomOut">zoomOut</a></li><li><a href="global.html#zoomOut1">zoomOut1</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Fri Aug 16 2024 23:14:13 GMT-0500 (hora de Ecuador)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
