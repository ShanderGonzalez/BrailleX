<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Traductor Español - Braille</title>
    <link
      rel="stylesheet"
      href="/Version1/implementation/templates/css/estilosPrincipal.css"
    />
    <style>
      .hidden {
        display: none;
      }

    </style>
  </head>

  <body>
    <div class="header">
      <div class="logo">
        <img
          src="/Version1/implementation/images/logo-proyecto.png"
          alt="Dev-Sentinels Logo"
        />
        <p>Dev-Sentinels</p>
      </div>
      <div class="info">
        <div class="Conocenos">
          <div class="ConocenosTitulo">Conocenos</div>
          <div class="ConocenosOpciones">
            <a href="/Version1/implementation/app/views/MisionVision.html"
              >Misión y Visión</a
            >
            <a href="/Version1/implementation/app/views/Equipo.html">Equipo</a>
          </div>
        </div>
        <img
          src="/Version1/implementation/images/info-icon.png"
          alt="icono de informacion"
        />
      </div>
    </div>
    <div class="Titulo">BrailleX</div>
    <div class="container">
      <div class="sidebar">
        <h3>Traductor</h3>
        <ul>
          <li>
            <img
              src="/Version1/implementation/images/search-icon.png"
              alt="icono de buscar"
            />
            <a href="index.html">Español - Braille</a>
          </li>
          <li>
            <img
              src="/Version1/implementation/images/search-icon.png"
              alt="icono de buscar"
            />
            <a href="brailleEs.html">Braille - Español</a>
          </li>
        </ul>
      </div>

      <div class="content">
        <p id="traduce">Traduce un texto de Español a Braille</p>
        <p class="warningCaracteres hidden" id="warningCaracteres">
          * Texto inválido: no se permiten caracteres especiales
        </p>
        <button id="limpiarBoton" type="reset" onclick="p()">
          <img
            src="/Version1/implementation/images/clear-icon.png"
            alt="boton de limpiar texto"
          />
        </button>
        <!-- <input class="entradaTexto" type="text" placeholder="Escribe texto en español">-->
        <textarea
          name="entradaTexto"
          class="entradaTexto"
          placeholder="Escribe texto en español"
          id="entradaTexto"
        ></textarea>

        <button id="traducirBoton" class="botonTraducir">Traducir</button>

        <div class="respuesta"></div>
        <div class="divImpresion">
          <input type="checkbox" id="mirror" name="mirror" />
          <p>Impresión en espejo</p>
        </div>

        <button class="botonDescargar">Descargar</button>
      </div>
    </div>
  </body>
  <script src="../../app/services/validate.js"></script>
  <script src="/Version1/implementation/app/utilities/limpiar.js"></script>
  <script type="module">
    import Traductor from "/Version1/implementation/app/services/traductor.js";
    document.getElementById("traducirBoton").addEventListener("click", function () {
        var texto = document.querySelector(".entradaTexto").value;
        var traductor = new Traductor();
        // Validar si el texto contiene caracteres especiales antes de la traducción
        const regex = /[~\/\\«»]/g;

        if (regex.test(texto)) {
          texto = "";  
            return; // Detener la ejecución del resto del código
        }
        var traduccion = traductor.traducirEspanolABraille(texto);

        document.querySelector(".respuesta").innerText = traduccion;
    });
</script>

<script>
    document.getElementById("entradaTexto").addEventListener("input", function () {
        const texto = this.value;
        const warning = document.getElementById("warningCaracteres");

        const regex = /[~\/\\«»]/g; //caracteres no permitidos

        if (regex.test(texto)) {
            warning.classList.remove("hidden");
        } else {
            warning.classList.add("hidden");
        }
    });
</script>
</html>
